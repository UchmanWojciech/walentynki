<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nasze Love Wrapped</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap');

        body {
            margin: 0;
            padding: 0;
            background-color: #000000;
            color: #FFFFFF;
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none; /* Blokada zaznaczania tekstu */
        }

        /* --- STYL SLAJD√ìW --- */
        .slide {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            width: 100%;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            background: black;
            position: absolute;
            top: 0;
            left: 0;
            animation: fadeIn 0.6s ease-out;
        }

        .slide.active { display: flex; z-index: 10; }

        /* --- TYPOGRAFIA --- */
        h1 { font-size: 2.5rem; font-weight: 900; color: #1DB954; margin-bottom: 15px; line-height: 1.1; }
        h2 { font-size: 1.4rem; font-weight: 700; margin-bottom: 20px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        h3 { font-size: 1.1rem; color: #b3b3b3; font-weight: 400; margin-top: 0; }
        p { font-size: 1.1rem; line-height: 1.5; color: #b3b3b3; max-width: 85%; margin: 10px auto; }
        
        .highlight { color: #ff4d88; font-weight: bold; }
        .tap-hint { position: absolute; bottom: 30px; font-size: 0.8rem; color: #555; animation: pulse 2s infinite; }

        /* --- KOMPONENTY --- */
        
        /* Pasek Postƒôpu */
        .progress-container {
            position: absolute; top: 10px; left: 0; width: 100%; display: flex; padding: 0 10px; gap: 4px; z-index: 100;
        }
        .progress-bar { height: 4px; background-color: #333; flex: 1; border-radius: 2px; transition: background 0.3s; }
        .progress-bar.filled { background-color: #fff; }

        /* Przycisk Start */
        .start-btn {
            background-color: #1DB954; color: black; border: none; padding: 15px 40px;
            border-radius: 50px; font-size: 1.2rem; font-weight: 900; cursor: pointer; margin-top: 30px;
            box-shadow: 0 0 20px rgba(29, 185, 84, 0.4); transition: transform 0.2s;
        }
        .start-btn:active { transform: scale(0.95); }

        /* Zdjƒôcia (Standard) */
        .cover-art {
            width: 260px; height: 260px; background-color: #222; margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); object-fit: cover; border-radius: 12px;
        }

        /* Licznik */
        .big-number {
            font-size: 3.5rem; font-weight: 900;
            background: -webkit-linear-gradient(#fff, #1DB954);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin: 10px 0; line-height: 1;
        }

        /* --- SPECJALNE STYLE DLA KONKRETNYCH SLAJD√ìW --- */

        /* 1. Z≈Çota Ramka (Nagroda) */
        .gold-frame {
            width: 200px; height: 200px; border-radius: 50%; border: 5px solid #FFD700;
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.5); object-fit: cover; margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }
        .gold-text { color: #FFD700 !important; font-size: 3.5rem; margin: 0; text-shadow: 0 0 15px rgba(255, 215, 0, 0.4); }

        /* 2. Kupony */
        .coupon {
            background: #fff; color: #000; padding: 15px; margin: 8px 0; border-radius: 8px;
            font-weight: bold; width: 85%; cursor: pointer; border-left: 8px solid #1DB954;
            position: relative; transition: 0.3s; text-align: left;
        }
        .coupon.used { background: #444; color: #888; text-decoration: line-through; border-left-color: #666; }
        .coupon.used::after { content: "ODEBRANO"; position: absolute; right: 10px; color: #1DB954; font-size: 0.7rem; text-decoration: none; font-weight: 900; top: 18px;}

        /* 3. Checklista */
        .checklist-container { width: 90%; text-align: left; margin-top: 10px; }
        .check-item {
            background: rgba(255, 255, 255, 0.1); padding: 12px; border-radius: 10px;
            margin-bottom: 8px; font-size: 0.95rem; display: flex; align-items: center;
        }

        /* 4. Galeria (Grid) - NOWO≈öƒÜ */
        .photo-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 90%; margin-bottom: 20px;
        }
        .grid-img {
            width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 8px; opacity: 0.8;
        }
        .grid-img:nth-child(1) { transform: rotate(-3deg); }
        .grid-img:nth-child(4) { transform: rotate(3deg); }

        /* 5. Bateria - NOWO≈öƒÜ */
        .battery-container {
            width: 150px; height: 250px; border: 8px solid #fff; border-radius: 20px;
            position: relative; padding: 5px; margin-bottom: 20px; display: flex; align-items: flex-end;
        }
        .battery-container::before {
            content: ''; position: absolute; top: -18px; left: 50%; transform: translateX(-50%);
            width: 50px; height: 10px; background: #fff; border-radius: 5px 5px 0 0;
        }
        .battery-fill {
            width: 100%; height: 0%; background: #1DB954; border-radius: 10px;
            animation: chargeUp 2s ease-out forwards; animation-delay: 0.5s;
            box-shadow: 0 0 20px #1DB954;
        }
        .battery-percent {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 2rem; font-weight: 900; color: #fff; text-shadow: 0 0 10px black; opacity: 0;
            animation: fadeIn 0.5s forwards 2.5s;
        }

        /* 6. Pasek Zgodno≈õci - NOWO≈öƒÜ */
        .match-bar-bg { width: 80%; height: 30px; background: #333; border-radius: 50px; overflow: hidden; margin: 20px 0; }
        .match-bar-fill { width: 0%; height: 100%; background: linear-gradient(90deg, #ff4d88, #ff99cc); border-radius: 50px; transition: width 2s ease-out; }

        /* Animacje */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
        @keyframes chargeUp { from { height: 10%; background: #ff4d88; } to { height: 100%; background: #1DB954; } }

    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <div class="progress-container" id="progress-container"></div>

    <div class="slide active">
        <h1>Love<br>Wrapped</h1>
        <p>Specjalna edycja Walentynkowa</p>
        <br>
        <p style="font-size: 0.9rem;">W≈ÇƒÖcz d≈∫wiƒôk üîä</p>
        <button class="start-btn" onclick="startPresentation()">Otw√≥rz</button>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2>Jeste≈õmy razem</h2>
        <div class="big-number" id="minutes-count">0</div>
        <h3>MINUT</h3>
        <div style="font-size: 1.2rem; margin-top: 10px; color: #ff4d88; font-weight: bold;">
            i <span id="seconds-count">0</span> sekund
        </div>
        <p style="margin-top: 30px;">Liczƒô ka≈ºdƒÖ chwilƒô od<br>16 marca 2025.</p>
        <div class="tap-hint">(Kliknij, aby przej≈õƒá dalej)</div>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2>Analiza Danych...</h2>
        <div style="font-size: 4rem;">üß©</div>
        <p>Obliczanie dopasowania charakter√≥w...</p>
        
        <div class="match-bar-bg">
            <div class="match-bar-fill" id="match-fill"></div>
        </div>
        
        <h1 id="match-text" style="opacity: 0; transition: 1s;">110%</h1>
        <p id="match-desc" style="opacity: 0; transition: 1s 0.5s;">Perfekcyjne dopasowanie.</p>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2>Twoja Kuchnia</h2>
        <div class="cover-art" style="background: url('https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=500&q=60') center/cover;"></div>
        <h1>W≈Çoska</h1>
        <p>Zam√≥wili≈õmy pizzƒô <span class="highlight">zdecydowanie za du≈ºo</span> razy w tym roku.</p>
    </div>

    <div class="slide" onclick="nextSlide()">
        <div style="text-align: left; width: 80%;">
            <h1 style="margin-bottom: 5px; color: #fff;">Ty</h1>
            <p style="color: #666; font-style: italic; margin-top: 0;">rzeczownik ‚Ä¢ rodzaj ≈ºe≈Ñski</p>
            <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
            <p style="margin-bottom: 15px;"><strong style="color: #fff;">1. definicja:</strong> Najpiƒôkniejsza dziewczyna w tym pokoju (i w moim ≈õwiecie).</p>
            <p><strong style="color: #fff;">2. synonimy:</strong> Szczƒô≈õcie, Dom, Moja Walentynka.</p>
        </div>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2 style="color: #FFD700; text-shadow: 0 0 10px rgba(255,215,0,0.3);">Nagroda Roku</h2>
        
        <div class="gold-frame" style="background: url('avatar.jpeg') center/cover;"></div>
        
        <h1 class="gold-text">TY</h1>
        <p>Za bycie najlepszƒÖ dziewczynƒÖ i wsparciem.</p>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2>Rok w obrazkach</h2>
        <div class="photo-grid">
            <div class="grid-img" style="background: url('1.jpeg') center/cover;"></div>
            <div class="grid-img" style="background: url('2.jpeg') center/cover;"></div>
            <div class="grid-img" style="background: url('3.jpeg') center/cover;"></div>
            <div class="grid-img" style="background: url('4.jpeg') center/cover;"></div>
        </div>
        <p>Tyle wspomnie≈Ñ, a to dopiero poczƒÖtek.</p>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2>Top Artysta</h2>
        <div class="cover-art" style="background: url('avatar2.jpeg') center/cover;"></div>
        <h1>Tw√≥j Ch≈Çopak</h1>
        <p>Spƒôdzi≈Ça≈õ z nim &infin; godzin.<br>Jeste≈õ w 0.01% jego fanek.</p>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2>Twoje Bonusy</h2>
        <p style="font-size: 0.8rem; margin-bottom: 20px;">Kliknij kupon, aby go wykorzystaƒá</p>
        
        <div class="coupon" onclick="event.stopPropagation(); this.classList.add('used');">
            üéüÔ∏è Drapanie pleck√≥w (10 min)
        </div>
        <div class="coupon" onclick="event.stopPropagation(); this.classList.add('used');">
            üé¨ Wyb√≥r filmu bez marudzenia
        </div>
        <div class="coupon" onclick="event.stopPropagation(); this.classList.add('used');">
            üçï Dzie≈Ñ "Jesz co chcesz"
        </div>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2>M√≥j poziom energii</h2>
        <p>Kiedy jeste≈õ obok:</p>
        
        <div class="battery-container">
            <div class="battery-fill"></div>
            <div class="battery-percent"></div>
        </div>
        
        <p>≈Åadujesz moje baterie.</p>
    </div>

    <div class="slide" onclick="nextSlide()">
        <h2>Plany na 2026</h2>
        <div class="checklist-container">
            <div class="check-item">‚úÖ Kochaƒá Ciƒô jeszcze mocniej. (O ile siƒô da)</div>
            <div class="check-item">‚úÖ Zabraƒá Ciƒô na najlepsze wakacje.</div>
            <div class="check-item">‚úÖ Nauczyƒá mnie gotowaƒá co≈õ wiƒôcej ni≈º wodƒô na par√≥wki.</div>
        </div>
    </div>

    <div class="slide">
        <h1>Kocham Ciƒô!</h1>
        <p>Wszystkiego najlepszego z okazji Walentynek.</p>
        <p style="font-size: 0.9rem;">Ps: Zobacz co jest pod torbƒÖ od prezentu ü§´</p>
    </div>

    <script>
        // --- DATA POCZƒÑTKU ZWIƒÑZKU ---
        const startDate = new Date("2025-03-16T00:00:00"); 

        // Funkcja licznika
        function updateCounter() {
            const now = new Date();
            const difference = now - startDate;
            const totalMinutes = Math.floor(difference / 1000 / 60);
            const seconds = Math.floor((difference / 1000) % 60);
            
            // Zabezpieczenie przed ujemnym czasem (je≈õli testujesz przed 16 marca)
            if (difference < 0) {
                 document.getElementById("minutes-count").innerText = "0";
                 document.getElementById("seconds-count").innerText = "0";
            } else {
                 document.getElementById("minutes-count").innerText = totalMinutes.toLocaleString('pl-PL');
                 document.getElementById("seconds-count").innerText = seconds;
            }
        }
        setInterval(updateCounter, 1000);
        updateCounter();

        // --- NAWIGACJA ---
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const progressContainer = document.getElementById('progress-container');

        // Generuj paski
        slides.forEach((_, index) => {
            let bar = document.createElement('div');
            bar.classList.add('progress-bar');
            if (index === 0) bar.classList.add('filled');
            progressContainer.appendChild(bar);
        });
        const bars = document.querySelectorAll('.progress-bar');

        function startPresentation() {
            // Pr√≥ba odpalenia audio
            const audio = document.getElementById('bg-music');
            audio.volume = 0.5;
            audio.play().catch(e => console.log("Audio zablokowane przez przeglƒÖdarkƒô"));
            
            nextSlide();
        }

        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                slides[currentSlide].classList.remove('active');
                bars[currentSlide].classList.add('filled'); // Zostaw stary wype≈Çniony
                
                currentSlide++;
                
                slides[currentSlide].classList.add('active');
                bars[currentSlide].classList.add('filled'); // Wype≈Çnij nowy

                // Logika dla specjalnych slajd√≥w
                
                // Je≈õli slajd "Kompatybilno≈õƒá" (index 2)
                if (currentSlide === 2) {
                    setTimeout(() => {
                        document.getElementById('match-fill').style.width = "100%";
                        document.getElementById('match-text').style.opacity = "1";
                        document.getElementById('match-desc').style.opacity = "1";
                    }, 500);
                }

                // Je≈õli ostatni slajd -> Konfetti
                if (currentSlide === slides.length - 1) {
                    triggerConfetti();
                }
            }
        }

        function triggerConfetti() {
            var duration = 3000;
            var end = Date.now() + duration;

            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#1DB954', '#ff4d88', '#ffffff'] });
                confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#1DB954', '#ff4d88', '#ffffff'] });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
        }
    </script>

</body>

</html>
